{
  "$schema": "tokens-schema.json",

  "tokens": [
    {
      "shard": "html.comment",
      "required-ctx": null,
      "opens-ctx": "html.comment",
      "ctx-persists": true,
      "ctx-clashes": true,
      "regex-open": "<!--",
      "regex-close": "-->"
    },

    {
      "shard": "quark",
      "required-ctx": "html.comment",
      "opens-ctx": "quark",
      "ctx-persists": true,
      "ctx-clashes": true,
      "regex-open": "#QUARK",
      "html-open": "<>",
      "regex-close": "-->",
      "ctx-collapses": 1
    }, {
      "shard": "quark.live",
      "required-ctx": "quark",
      "flags": {"live": true},
      "regex-open": "live!"
    }, {
      "shard": "quark.dead",
      "required-ctx": "quark",
      "flags": {"live": false},
      "regex-open": "dead!"
    },

    {
      "shard": "quark.export-trigger",
      "required-ctx": "quark",
      "opens-ctx": "quark.export",
      "ctx-persists": false,
      "regex-open": "EXPORT:"
    }, {
      "shard": "quark.export-flag",
      "required-ctx": "quark.export",
      "flags": {"path": "#VALUE"},
      "regex-open": ".*",
      "ctx-collapses": 1
    },

    {
      "shard": "quark.style-trigger",
      "required-ctx": "quark",
      "opens-ctx": "quark.style",
      "ctx-persists": false,
      "flags": {"style": []},
      "regex-open": "STYLE:"
    }, {
      "shard": "quark.style-flag",
      "required-ctx": "quark.style",
      "flags": {"style": {"add": "#VALUE"}},
      "regex-open": ".*"
    },

    {
      "shard": "quark.duality-trigger",
      "required-ctx": "quark",
      "opens-ctx": "quark.duality",
      "ctx-persists": false,
      "regex-open": "DUALITY:"
    }, {
      "shard": "quark.duality-flag",
      "required-ctx": "quark.duality",
      "flags": {"duality": "#VALUE"},
      "regex-open": ".*",
      "ctx-collapses": 1
    },

    {
      "shard": "quark.date-trigger",
      "required-ctx": "quark",
      "opens-ctx": "quark.date",
      "ctx-persists": false,
      "regex-open": "DATE:"
    }, {
      "shard": "quark.date-year",
      "required-ctx": "quark.date",
      "flags": {"year": "#VALUE"},
      "opens-ctx": "quark.date-year",
      "ctx-persists": false,
      "regex-open": ".*"
    }, {
      "shard": "quark.date-dec",
      "required-ctx": "quark.date-year",
      "flags": {"dec": "#VALUE"},
      "opens-ctx": "quark.date-dec",
      "ctx-persists": false,
      "regex-open": ".*"
    }, {
      "shard": "quark.date-day",
      "required-ctx": "quark.date-dec",
      "flags": {"day": "#VALUE"},
      "opens-ctx": "quark.date-day",
      "ctx-persists": false,
      "regex-open": ".*"
    },

    {
      "shard": "quark.index-trigger",
      "required-ctx": "quark",
      "opens-ctx": "quark.index",
      "ctx-persists": false,
      "flags": {"index": []},
      "regex-open": "INDEX:"
    }, {
      "shard": "quark.index-flag",
      "required-ctx": "quark.index",
      "flags": {"index": {"add": "#VALUE"}},
      "regex-open": ".*"
    },

    {
      "shard": "code",
      "required-ctx": null,
      "opens-ctx": "code",
      "ctx-persists": true,
      "regex-open": "```",
      "regex-close": "#AUTO",
      "inhibits-quarkdown": true
    }
  ]
}
